var x=(a,o,r)=>new Promise((m,l)=>{var p=e=>{try{n(r.next(e))}catch(y){l(y)}},t=e=>{try{n(r.throw(e))}catch(y){l(y)}},n=e=>e.done?m(e.value):Promise.resolve(e.value).then(p,t);n((r=r.apply(a,o)).next())});var c=a=>new Promise(o=>setTimeout(o,a)),T=(a,o)=>{let{maxRetries:r=3,retryDelay:m=1e3,maxRetryDelay:l=6e4,retryDelayType:p="exponential"}=o||{},t,n=(...e)=>new Promise((y,u)=>x(void 0,null,function*(){let i=0;for(t=s=>{i=r,u(s)};i<r;)try{let s=yield a(...e);return y(s)}catch(s){if(i===r-1)return u(s);i++;let d=p==="exponential"?Math.min(m*i,l):m;yield c(d)}return u({message:"Retry failed"})}));return n.abort=e=>{t==null||t(e),t=void 0},n};export{c as delay,T as retryPromiseFactory};
//# sourceMappingURL=index.es.js.map
